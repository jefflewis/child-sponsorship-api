language: ruby
rvm:
- 2.2.0
before_script:
- cp config/database.yml.travis config/database.yml
- psql -c 'create database travis_ci_test;' -U postgres
notifications:
  slack: biblereader:ei4aLnw9dYX7wA8dP8do18CQ
deploy:
  provider: heroku
  app: child-sponsorship-api
  api_key:
    secure: mVPABXaDsV5GnJQWLgYtEq6PmnTMk2UjHPaUk7d4JTG55H5G75fCoCj0ps0KfzQOcD9umddkj/GttcPB2OH+B9HPx0iHXRcKm1i8zN8KAzcxMieVtt6AEAaZbB91j6rEvFbbKJSq5hTzze0CAGTutmzgKhaqFFI/fTrYUuVaEJtHq4Twh60EQhQ0Vd5tbd8rCduhAimHgQ9rDYRu6LJXSDl2OKUhvsZvkgt0NAd5KtaXecGkas05UVPaQdW0pHnpdKNk8OIl07t378ZR6vztDUku50Bd57ytv2ik6gAUl/GoQs7Ova2fO6FM5ydLXWAQRPpAp1rgAm+msXGRM2uIgPHjOLWIbKWszwotBPRgj5QurwT1V0Sli246ggIIw28c8xR9FG8US4gXNKEbAG9H/pXgAgrH3KdfLlBeJtU6xyIekF4TbWbXutUPDFtkRngTJTAPAwGNe02ExACfEGup7Bc755cE/v5wmBYlat9jjekPeHisdhunH1CWO/RQvX3aGzxjWQUvZwFaUPYHIvimPxKQHlRphJa9RFGj1UQvVIRHCkiTRg3ja6E5rtcQnGqhVLCaxrGFSMm+7v2OEVZUfmIsCK1krIV25mnTudI8KOdmPAP2O4azrZmhMhHob8JJz2600X/8srKY29flMJStXtcA8ot1ZF+9TlhCncT6IB0=
  on:
    branch: master
script:
- RACK_ENV=test bundle exec rake db:migrate --trace
- bundle exec rake
env:
  global:
  - secure: vrl3cpad71buUHg5ggBs9XaHn2c04tXhuyHTuKI/tipXHEsgGCm7+mD7/1mtbX0UURf1AB7Ryi/+LqE5HnExvsVMjVfJ+Lg/B2HM7CCL3nCZAtJ3ArQHJ+8/dPVXh58WLJu3M9OpE3RGzDmiiXNffGLQmQDT3R5myu5YqkC+ZlVD13wFR3QQqmsL7yyhAxNqdvhCyJJT1lnUkG4CRt/xLp0CqpzLsq+p52tAtAmk/rOCTR5RAlqz4PxoQ9TKLkzW+YkhiRrNVZJzaoVy6znDN9BN3ix2IoMpOzrCJHGhQhUMzXldPFFO9FKCxP/cwBzadEHjqy9kqlQjwJy1LqOQUsXi4y5eX/+nYXLhiGT7wVCA9gz5TO/6BXAznaN9Mv8ehYXlXl+uq/u0Lx94q91DmnF5rVBCHTWJ8WfjmuA/MnRRZi+wpiiozwORBbfWrc5vgHVv7BPvhggDnAbB2yGoGl6wbrT7FkUrxTMshQ+64sBfHcEzRKm7MLQ1uSs4NjEKXN6tpj5jRuNBOC3Q4dI8bxuu86vuO8PnHCz5xIcXOpO+MbHLvOT3RAROGwApqCmtMa0JCN8qUXjKNpWwX+auF/SqH7KeGDIWy9/u4JT3PN7l/FFVn8lJpoYaxjE3Caoa1EYSPCP25m7nqNvONUMwVMIWre1zDMWnVsEH30P/lWE=
  - secure: SnI8W+4vevxg/LjeE0W0hPgTIrnzgy3oZdjaLu0+r3Ozy+gQyEJqdSeyvUuWDH87uKlhJGBLGgvAbE00zk7NM7eBt3amy2KwMh0io7BVvsUX6pZDL4EdBhsrlXzT7w2vYYW4Kh44PgHSSlnLsyoWvlsovIu8Gk7j1HkpafojMVtoWZyDwMH0++3fK2RHG9gWOeNp0ieOX54aInQpwxvy/mMTzQWWZ7j80QEIMP9X9V1+wigiQLy1MgpAx9C/DvlxnohuBe1/dH6pxrCIUAg7In8MFUSIRYhVgePIWl8gp65T3/eM4mTa/vX1cLA3LsBKjg8Fqe+RE6zwMFC0utemI/hITmG9fWfk3pmicAQBXnKaFmWw34FY/AdhVmfvnsxtjt3opgZtO3b5V61nDutf1JdS879CaoIjlr7hUEQ4eRpAVPWa5AW7tTbqIyolAaWW2DXo+g2jCYWAD4HMMnu1UFhhbntOH1gQktkntxkBvMb+UfY5VlqsejmazriSnSjVs9MqC8YDUfN5Ra6EtdZYXdIZ5/DYxD1dm0mZEz5MKQpRNzxSuhJ2NWaUV6pEwZjBJnJ5CFxsZllIYc3WIyJToeBi0AZxdYalfQGeaaDmND3RIKdSw0O94TI+/A0wqnmJSn+7V5m2r/YSLAh0HdlmGI7cRUerEf9juXLMeni/vKQ=
  - secure: v/odmBlHIE2t+fYMtOtx40tR28QZuOwlA/jo9qWOVBVXS7kvzomF62PpQ04d7alrKuUMwomPNCzDBzOGzpKt/7JFKm6+W+YmcUYiYi674ui8LcJ0nc9CGjHXCnIZysnhtYJnux9x1k7qSD8OudVkL/j4UuxKpNiI8qYZH0NYUZhAmPa71hVoBPWztNnDg11DC7fMo+Llu970w31QPtFliXl+L+Oi9mU4omXlPmp6euJ6QUygbN0z8EmuuUC7IY9ACJuC2QVx1iH+xTW9azhEHIil6SJqBvuPSFftbiLK0vr0SJ+pYu11+AuKVkEN8Xp2/b3CvEKZDnkFxHU6BB86+PNB8zDmwvzpVv4cMTgbyPBUcG9pkCKP/xWSa2dxXOOl0y7XBJYfFfwnmV5wNp6Mw9Y/wr2h3WfA4yGw9NLxf74D8KvKnzKZmgHUoGavwEE7aNsYTkfjOkJT3eZoZAwFAV7cIP4mdpn1ZybY6FbJTYnZ61OZPkHFgBNBJw7/IVaA0HOiUbGyqqPfJ+h+yMfRf6AHv2pwrZiLfyOJcVA6UfkCjxKIVlraEf0CaEAntNddGrIopVYxHdh4E3ex8Jr4ZN492lfjcFtcULtrCI/sjDcyU8M2h0hxZvXLUwFYrL0gA62VyxeLQjloyTuHGIX6aX690UwfnWE9H8ugkKIoy40=
  - secure: xSaQ3XW2gU9wcCWyvHO11AdHLcTjyraNa32jCU083JCb8BlZyLXZqfwzVoURcKTSNfrhfc3Ic0fM3YAp8laEz7R0g+U22dypXipKNkjOAaOIUX08Cpg50uB/OAAGdOzENr64bStjsdJLrmhIaCTpjrksBOD31eQsRQiNNP0MPeob2wwXCMXEzkH0EOicpS6HeqxF1WXXmV2/Oe2VQYT8ptz41SMPaaCzdbv4afqA0FcfSdEG89r40vhY9tKNoRdmK+mgL3LAeh/62icYqBJoAxhmCGizmxngao8xBZ8IUg1DY/MaavGyO5UdR8tkD7xb+UrMaMGy3ny3o9wXFgIZ6WcN/TVSE5xdLcT3jfqePKmyzDkVOxNTqi/fyJvwpSZYvd6CS77EoDJEOkiF2LHbsXGylEMGG/4ZZBXXoNt6CO92HU4+ekAWMbeE8DuzwCxL0d04RgecSCCAZ3HJqjxv/Akpn5+ap0GFpN0wJmOXDXY/K2WkVLwAGqrkwBZye2y8iWGpl23tnXrf1YXMKanJJ3LvhUyvyNyTcV9xw6wMzBaYAzv0lNNsuxtJoHZSNqZgBIlhEruu82xosW0F643lLHp91ND6RDOIiL6Hjha5lTNo/CWFMiMOeQkiHx6XlxYZKdOF4M/ubrn4CnMuVO7c12W+sY/U/ins0uCHYHc1mtE=
  - secure: NTb44gTitfUVolELzxijFMkzUSrjFPUJ85xLanzHMdtfKUq+7R6iz0jscsSD4KQTVNe6Qs27tY9xfNaZ5ONnq9cLuB+ing5cKbUm4AndHNn3n8DYptT+jfUyUU88N7txYSBkD4ryRKOxaPlieSbDJkaofzTWUVtFsl6ZQyq4fQ/Dc76MbSJQw+j9975v9t9xtB+GS9shlOJHSqYQhWAZ6Ex/zELFKUOAkBp/XvW+G3zdPek3Zr1u+bOkSvF1gc00fL0aA2jesOodAZQbBGpo4pT94l37sGilXH+7atoIJbyQGWvUPaPUfs78R6WoM24FfUz7f5fdengcZa1552rMiy37sQ56Ovockj7A3PtxNC0PPB+Q4Ya5R7p49gV7/Y8X/0+lFprz1m5B1SXTnc1SIc6H0UIsT5KUYSxbyPgJ42W2eThbyKPMzKHld0Vaj2pmDzBysUMsW/WfkTd3aReRrJOTrmD2xHvKGfZtv9N5eKL09HTmAsqnR10ra7FWl/pt0mSR48QwyLolgaoREGu9Hw1Qt8diADAXvVGK+AeOGQvjdG8yJ08waHDbb/giKK+0ULToRt0rrS699Wnvlmv1gyEAFgGWvPqg7CdD5lXn/ABfnEoTBWbVIk9r88tLNLVLJ4348VYH+MuSnn6xzznD5WFU/6kQaCoSW3N+ht9K48g=
  - secure: ZiYvfTFwoS8nLWJLNxPKkcK2HjFqbNwMV8uStHhAxSR+ejED5pxpacH6e9hnHTO5tzIl4+TDxjBx1epUBmgvba66omabduMZ44ECFKP5q/PEtCkfanA4BNLJZDc5ETjsOeAkmiaCirV7NMpmAVuHPEUmcPmvx4k7zkYcXR23+1aa8B2wjgmrzEZAeoO2wwin/6bdIWU/xBtqGiXiiuaOofhbZG1tBhsZmFmc0q2+gbnEHSlbOnJY+WQ2sgW1PMKhu2+kSHZ7GJ12NuucztQ6z00T8FdfMHRjajM8V0W9dOvI3sJYwoEfJ78czqr5Cvblu3Fu6pxGMrh07R5OY4hOg9r7b07oW2weaMldmb6WGfr5Y8Ry5mtM+n2sHt/HqyOhQ2ss5Cg45WYJE9AKWCAvN4xBPR+Pfy2IPYJcAbguIDvwqg9rXjUKvlGLP/1/yOBMzhpoDv9zHVQFpaDOVBy8Gc05vlXOngWfWLqwpBPFOOLlHF4IMwyxAn4SfSudPh26NqxY/a/1+ZiYzpg1Xbo5CKfnhwTykyCOqSeNzRZo2JfdNp2o+Z8ZCvawbJWHWMxwruzq2HsTM8684mfMzd+Yidh2UhSaFRmhztKz7hy5J/O5WorTpwSc0tiI0K2fOMVQS2S/4TPYuSL6CM/8txqcJSY36sAyKddr1eQjGz1InZI=
