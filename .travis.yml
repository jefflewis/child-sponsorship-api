language: ruby
rvm:
- 2.2.0
before_script:
- cp config/database.yml.travis config/database.yml
- psql -c 'create database travis_ci_test;' -U postgres
notifications:
  slack: biblereader:ei4aLnw9dYX7wA8dP8do18CQ
deploy:
  provider: heroku
  app: child-sponsorship-api
  api_key:
    secure: mVPABXaDsV5GnJQWLgYtEq6PmnTMk2UjHPaUk7d4JTG55H5G75fCoCj0ps0KfzQOcD9umddkj/GttcPB2OH+B9HPx0iHXRcKm1i8zN8KAzcxMieVtt6AEAaZbB91j6rEvFbbKJSq5hTzze0CAGTutmzgKhaqFFI/fTrYUuVaEJtHq4Twh60EQhQ0Vd5tbd8rCduhAimHgQ9rDYRu6LJXSDl2OKUhvsZvkgt0NAd5KtaXecGkas05UVPaQdW0pHnpdKNk8OIl07t378ZR6vztDUku50Bd57ytv2ik6gAUl/GoQs7Ova2fO6FM5ydLXWAQRPpAp1rgAm+msXGRM2uIgPHjOLWIbKWszwotBPRgj5QurwT1V0Sli246ggIIw28c8xR9FG8US4gXNKEbAG9H/pXgAgrH3KdfLlBeJtU6xyIekF4TbWbXutUPDFtkRngTJTAPAwGNe02ExACfEGup7Bc755cE/v5wmBYlat9jjekPeHisdhunH1CWO/RQvX3aGzxjWQUvZwFaUPYHIvimPxKQHlRphJa9RFGj1UQvVIRHCkiTRg3ja6E5rtcQnGqhVLCaxrGFSMm+7v2OEVZUfmIsCK1krIV25mnTudI8KOdmPAP2O4azrZmhMhHob8JJz2600X/8srKY29flMJStXtcA8ot1ZF+9TlhCncT6IB0=
  on:
    branch: master
script:
- RACK_ENV=test bundle exec rake db:migrate --trace
- bundle exec rake
env:
  global:
  - secure: vrl3cpad71buUHg5ggBs9XaHn2c04tXhuyHTuKI/tipXHEsgGCm7+mD7/1mtbX0UURf1AB7Ryi/+LqE5HnExvsVMjVfJ+Lg/B2HM7CCL3nCZAtJ3ArQHJ+8/dPVXh58WLJu3M9OpE3RGzDmiiXNffGLQmQDT3R5myu5YqkC+ZlVD13wFR3QQqmsL7yyhAxNqdvhCyJJT1lnUkG4CRt/xLp0CqpzLsq+p52tAtAmk/rOCTR5RAlqz4PxoQ9TKLkzW+YkhiRrNVZJzaoVy6znDN9BN3ix2IoMpOzrCJHGhQhUMzXldPFFO9FKCxP/cwBzadEHjqy9kqlQjwJy1LqOQUsXi4y5eX/+nYXLhiGT7wVCA9gz5TO/6BXAznaN9Mv8ehYXlXl+uq/u0Lx94q91DmnF5rVBCHTWJ8WfjmuA/MnRRZi+wpiiozwORBbfWrc5vgHVv7BPvhggDnAbB2yGoGl6wbrT7FkUrxTMshQ+64sBfHcEzRKm7MLQ1uSs4NjEKXN6tpj5jRuNBOC3Q4dI8bxuu86vuO8PnHCz5xIcXOpO+MbHLvOT3RAROGwApqCmtMa0JCN8qUXjKNpWwX+auF/SqH7KeGDIWy9/u4JT3PN7l/FFVn8lJpoYaxjE3Caoa1EYSPCP25m7nqNvONUMwVMIWre1zDMWnVsEH30P/lWE=
  - secure: SnI8W+4vevxg/LjeE0W0hPgTIrnzgy3oZdjaLu0+r3Ozy+gQyEJqdSeyvUuWDH87uKlhJGBLGgvAbE00zk7NM7eBt3amy2KwMh0io7BVvsUX6pZDL4EdBhsrlXzT7w2vYYW4Kh44PgHSSlnLsyoWvlsovIu8Gk7j1HkpafojMVtoWZyDwMH0++3fK2RHG9gWOeNp0ieOX54aInQpwxvy/mMTzQWWZ7j80QEIMP9X9V1+wigiQLy1MgpAx9C/DvlxnohuBe1/dH6pxrCIUAg7In8MFUSIRYhVgePIWl8gp65T3/eM4mTa/vX1cLA3LsBKjg8Fqe+RE6zwMFC0utemI/hITmG9fWfk3pmicAQBXnKaFmWw34FY/AdhVmfvnsxtjt3opgZtO3b5V61nDutf1JdS879CaoIjlr7hUEQ4eRpAVPWa5AW7tTbqIyolAaWW2DXo+g2jCYWAD4HMMnu1UFhhbntOH1gQktkntxkBvMb+UfY5VlqsejmazriSnSjVs9MqC8YDUfN5Ra6EtdZYXdIZ5/DYxD1dm0mZEz5MKQpRNzxSuhJ2NWaUV6pEwZjBJnJ5CFxsZllIYc3WIyJToeBi0AZxdYalfQGeaaDmND3RIKdSw0O94TI+/A0wqnmJSn+7V5m2r/YSLAh0HdlmGI7cRUerEf9juXLMeni/vKQ=
  - secure: v/odmBlHIE2t+fYMtOtx40tR28QZuOwlA/jo9qWOVBVXS7kvzomF62PpQ04d7alrKuUMwomPNCzDBzOGzpKt/7JFKm6+W+YmcUYiYi674ui8LcJ0nc9CGjHXCnIZysnhtYJnux9x1k7qSD8OudVkL/j4UuxKpNiI8qYZH0NYUZhAmPa71hVoBPWztNnDg11DC7fMo+Llu970w31QPtFliXl+L+Oi9mU4omXlPmp6euJ6QUygbN0z8EmuuUC7IY9ACJuC2QVx1iH+xTW9azhEHIil6SJqBvuPSFftbiLK0vr0SJ+pYu11+AuKVkEN8Xp2/b3CvEKZDnkFxHU6BB86+PNB8zDmwvzpVv4cMTgbyPBUcG9pkCKP/xWSa2dxXOOl0y7XBJYfFfwnmV5wNp6Mw9Y/wr2h3WfA4yGw9NLxf74D8KvKnzKZmgHUoGavwEE7aNsYTkfjOkJT3eZoZAwFAV7cIP4mdpn1ZybY6FbJTYnZ61OZPkHFgBNBJw7/IVaA0HOiUbGyqqPfJ+h+yMfRf6AHv2pwrZiLfyOJcVA6UfkCjxKIVlraEf0CaEAntNddGrIopVYxHdh4E3ex8Jr4ZN492lfjcFtcULtrCI/sjDcyU8M2h0hxZvXLUwFYrL0gA62VyxeLQjloyTuHGIX6aX690UwfnWE9H8ugkKIoy40=
